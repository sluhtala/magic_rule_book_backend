{"version":3,"sources":["services/dataService.js","services/parser.js","services/utils.js","Contents/Subheaders.js","Contents/Headers.js","Contents/RuleModal.js","Contents/Rules.js","Contents/Searchbar.js","Contents/index.js","App.js","index.js"],"names":["service","getData","a","axios","get","result","data","parser","parseData","headers","subHeaders","rules","splitted","split","map","d","trim","start","indexOf","end","lastIndexOf","slice","forEach","paragraph","i","number","substring","test","push","id","text","length","headerNum","parseInt","substr","subNum","replace","findRules","subNumber","pattern","RegExp","filter","rule","applySearchHeaders","search","h","hnum","some","r","applySearchSubHeaders","SubHeader","sub","subHeaderClick","List","Item","className","as","onClick","SubHeaders","Header","header","index","headersActive","useState","setSub","visible","setVisible","useEffect","mainNumber","findSubHeaders","Accordion","Title","active","size","Content","Headers","fluid","Segment","ModalContent","props","setRule","len","ruleNumber","Modal","Container","Actions","Button","icon","disabled","setIndex","RuleModal","trigger","word","rBook","modalRules","setModalRules","closeIcon","content","on","onOpen","w","subRules","dashIndex","includes","endID","leftSide","rightSide","startID","find","fullRightSide","match","findModalRules","Rule","activeIndex","setActiveIndex","title","processedText","setProcessedText","processText","lines","l","style","cursor","Icon","name","Transition","duration","animation","RuleLoader","autoLoadMore","showMore","isLoading","Visibility","onOnScreen","continuous","loading","Rules","displayAmount","sliced","setSliced","setIsLoading","styled","setTimeout","Searchbar","Input","placeholder","value","onChange","searchResultNumber","clearSearch","compact","basic","newRules","setNewRules","setSearchResultNumber","setSearch","searching","setSearching","setDisplayAmount","setHeadersActive","resultTitle","setResultTitle","t","toLowerCase","applySearchRules","clearTimeout","Grid","stackable","Row","columns","divided","Column","width","target","Divider","App","setRBook","isError","setIsError","dataService","then","catch","e","console","error","inverted","textAlign","Loader","color","Contents","ReactDOM","render","document","getElementById"],"mappings":"oMAaeA,EAJC,CACfC,QANY,uCAAG,4BAAAC,EAAA,sEACMC,IAAMC,IAHhB,cAEI,cACTC,EADS,yBAEPA,EAAOC,MAFA,2CAAH,sDC2Bb,IAIeC,EAJA,CACbC,UA/BF,SAAmBF,GAElB,IAAMD,EAAS,CAACI,QAAS,GAAIC,WAAW,GAAIC,MAAM,IAC5CC,EAAWN,EAAKO,MAAM,QAAQC,KAAI,SAACC,GAAD,OAAKA,EAAEC,UACzCC,EAAQL,EAASM,QAAQ,oBACzBC,EAAMP,EAASQ,YAAY,YAsBjC,OArBeR,EAASS,MAAMJ,EAAOE,GAE9BG,SAAQ,SAACC,EAAWC,GAC1B,IAAMC,EAASF,EAAUG,UAAU,EAAGH,EAAUL,QAAQ,MACxD,GAAI,YAAYS,KAAKF,GACpBpB,EAAOI,QAAQmB,KAAK,CAACC,GAAIL,EAAGM,KAAMP,SAC9B,GAAI,sBAAsBI,KAAKF,GACnCpB,EAAOK,WAAWkB,KAAK,CAACC,GAAIL,EAAGM,KAAMP,QAEtC,CACC,GAAyB,IAArBA,EAAUQ,OACb,OACD,IAAMC,EAAYC,SAASV,EAAUW,OAAO,EAAG,IACzCC,EAASF,SAASV,EAAUG,UAAU,EAAGH,EAAUL,QAAQ,OACjEb,EAAOM,MAAMiB,KAAK,CACjBC,GAAIL,EACJM,KAAMP,EAAUa,QAAQ,SAAU,KAClCJ,UAAWA,EAAWG,OAAQA,QAI1B9B,I,mCC3BKgC,G,OAAY,SAAC1B,EAAO2B,GAChC,IAAMC,EAAUC,OAAO,IAAD,OAAKF,EAAL,QAEtB,OADe3B,EAAM8B,QAAO,SAACC,GAAD,OAAQH,EAAQZ,KAAKe,EAAKZ,WAuB1Ca,EAAqB,SAAClC,EAASE,EAAOiC,GAClD,MAAe,KAAXA,EACInC,EAEOA,EAAQgC,QAAO,SAACI,GAC9B,IAAMC,EAAOb,SAASY,EAAEf,KAAKJ,UAAU,EAAE,IACzC,OACCf,EAAMoC,MAAK,SAACC,GACX,OACCA,EAAEhB,YAAcc,SAQRG,EAAwB,SAACvC,EAAYC,EAAOiC,GACxD,MAAe,KAAXA,EACIlC,EACOA,EAAW+B,QAAO,SAACI,GACjC,IAAMC,EAAOb,SAASY,EAAEf,KAAKI,OAAO,EAAGW,EAAEf,KAAKZ,QAAQ,OACtD,OACCP,EAAMoC,MAAK,SAACC,GACX,OAAQA,EAAEb,SAAWW,S,2CC/CnBI,EAAY,SAAC,GAAyB,IAAxBC,EAAuB,EAAvBA,IAAKC,EAAkB,EAAlBA,eACxB,OACC,cAACC,EAAA,EAAKC,KAAN,CAAWC,UAAU,KAAKC,GAAG,IAAIC,QAAS,kBAAIL,EAAeD,IAA7D,SAAoEA,KAkBvDO,EAbI,SAAC,GAAgC,IAA/BhD,EAA8B,EAA9BA,WAAY0C,EAAkB,EAAlBA,eAChC,OACC,cAACC,EAAA,EAAD,UACC3C,EAAWI,KAAI,SAACqC,GAAD,OACf,cAAC,EAAD,CAECA,IAAKA,EAAIrB,KACTsB,eAAgBA,GAFXD,EAAItB,U,SCVP8B,EAAS,SAAC,GAA8D,IAA7DC,EAA4D,EAA5DA,OAAQlD,EAAoD,EAApDA,WAAY0C,EAAwC,EAAxCA,eAAgBS,EAAwB,EAAxBA,MAAOC,EAAiB,EAAjBA,cACrDrC,EAASQ,SAAS2B,GADoD,EAEtDG,mBAAS,IAF6C,mBAErEZ,EAFqE,KAEhEa,EAFgE,OAG9CD,oBAAS,GAHqC,mBAGrEE,EAHqE,KAG5DC,EAH4D,KAgB5E,OAXAC,qBAAU,WACTH,EFJ4B,SAACvD,EAAS2D,GACvC,GAAuB,IAAnB3D,EAAQsB,OAAZ,CAEA,IAAMQ,EAAUC,OAAO,IAAK4B,GAM5B,OALmB3D,EAAQgC,QAAO,SAACU,GAClC,OACAZ,EAAQZ,KAAKwB,EAAIrB,UEFVuC,CAAe3D,EAAYe,MACjC,CAACf,EAAYe,IAEf0C,qBAAU,WACLP,EAAOlC,UAAU,EAAG,KAAOoC,GAAmC,QAAlBA,EAChDI,GAAW,GAEXA,GAAW,KACV,CAACJ,EAAeF,IAGjB,qCACC,cAACU,EAAA,EAAUC,MAAX,CACCd,QAAS,kBAAIS,GAAYD,IACzBJ,MAAOA,EACPW,OAAQP,EAHT,SAKC,cAAC,IAAD,CAAUQ,KAAK,QAAf,SAAwBb,MAEzB,cAACU,EAAA,EAAUI,QAAX,CACCF,OAAQP,EADT,SAGA,cAAC,EAAD,CACCvD,WAAYyC,EACZC,eAAgBA,UAwBLuB,EAlBC,SAAC,GAAwD,IAAvDlE,EAAsD,EAAtDA,QAASC,EAA6C,EAA7CA,WAAY0C,EAAiC,EAAjCA,eAAgBU,EAAiB,EAAjBA,cACtD,OACC,cAACQ,EAAA,EAAD,CAAWM,OAAK,EAACpB,GAAIqB,IAArB,SAECpE,EAAQK,KAAI,SAAC+B,EAAGrB,GAAJ,OACX,cAAC,EAAD,CACCqC,MAAOrC,EAEPoC,OAAQf,EAAEf,KACVpB,WAAYA,EACZ0C,eAAgBA,EAChBU,cAAeA,GAJVjB,EAAEhB,U,6CC5CNiD,EAAe,SAACC,GAAW,IAAD,EACJhB,mBAASgB,EAAMpE,MAAMoE,EAAMlB,QADvB,mBACrBnB,EADqB,KACfsC,EADe,KAEtBC,EAAMF,EAAMpE,MAAMoB,OAMxB,GAJAoC,qBAAU,WACNa,EAAQD,EAAMpE,MAAMoE,EAAMlB,UAC3B,CAACkB,EAAMlB,MAAOkB,EAAMpE,SAElB+B,EAAM,MAAO,GAClB,IAAMwC,EAAaxC,EAAKZ,KAAKJ,UAAU,EAAGgB,EAAKZ,KAAKZ,QAAQ,MAC5D,OACI,qCACI,cAACiE,EAAA,EAAMxB,OAAP,UACI,cAAC,IAAD,UAASuB,MAEb,cAACC,EAAA,EAAMT,QAAP,UACI,cAACU,EAAA,EAAD,CAAWtD,MAAI,EAAC8C,OAAK,EAArB,SACKlC,EAAKZ,KAAKJ,UAAUgB,EAAKZ,KAAKZ,QAAQ,UAG9C+D,EAAM,GACH,eAACE,EAAA,EAAME,QAAP,WACI,cAACC,EAAA,EAAD,CACIC,KAAK,aACLC,SAAUT,EAAMlB,OAAS,EACzBJ,QAAS,WACLsB,EAAMU,SAASV,EAAMlB,MAAQ,MAGrC,cAACyB,EAAA,EAAD,CACIC,KAAK,cACLC,SAAUT,EAAMlB,OAASoB,EAAM,EAC/BxB,QAAS,WACLsB,EAAMU,SAASV,EAAMlB,MAAQ,aAuE1C6B,EA9DG,SAAC,GAA8B,IAA5BC,EAA2B,EAA3BA,QAASC,EAAkB,EAAlBA,KAAMC,EAAY,EAAZA,MAAY,EAClB9B,mBAAS,GADS,mBACrCF,EADqC,KAC9B4B,EAD8B,OAER1B,mBAAS,IAFD,mBAErC+B,EAFqC,KAEzBC,EAFyB,KAI5C5B,qBAAU,WACNsB,EAAS,KACV,CAACG,IAwCJ,OACI,cAACT,EAAA,EAAD,CACIa,UAAU,QACVC,QACI,cAAC,EAAD,CACItF,MAAOmF,EACPjC,MAAOA,EACP4B,SAAUA,IAGlBS,GAAG,QACHP,QAASA,EACTQ,OAAQ,kBAlDO,WACnB,IAAIC,EAC0B,MAA1BR,EAAKA,EAAK7D,OAAS,GACb6D,EAAKvE,MAAM,EAAGuE,EAAK7D,OAAS,GAC5B6D,EACJS,EAAWhE,EAAUwD,EAAMlF,MAAOsB,SAASmE,IAC3CE,EAAYF,EAAElF,QAAQ,KAC5B,IAAmB,IAAfoF,EACAP,EACIM,EAAS5D,QAAO,SAACO,GAAD,OACZA,EAAElB,KAAKJ,UAAU,EAAGsB,EAAElB,KAAKZ,QAAQ,MAAMqF,SAASH,WAGvD,CACH,IAMII,EANExE,EAAYoE,EAAE1E,UAAU,EAAG0E,EAAElF,QAAQ,MACrCuF,EAAWL,EAAE1E,UAAU,EAAG4E,GAC1BI,EAAYN,EAAE1E,UAAU4E,EAAY,GACpCK,EAAUN,EAASO,MAAK,SAAC5D,GAAD,OAC1BA,EAAElB,KAAKJ,UAAU,EAAGsB,EAAElB,KAAKZ,QAAQ,MAAMqF,SAASE,MACpD5E,GAEEgF,EAAgBT,EAAE1E,UAAU4E,EAAY,GACvCI,EAAUI,MAAM,cACjBD,EAAgBH,EAAUI,MAAM,WAAhB,UACPV,EAAE1E,UAAU,EAAG4E,EAAY,IADpB,OACyBI,GADzB,UAEP1E,EAFO,YAEM0E,IAE1BF,EAAQH,EAASO,MAAK,SAAC5D,GAAD,OAClBA,EAAElB,KAAKJ,UAAU,EAAGsB,EAAElB,KAAKZ,QAAQ,MAAMqF,SAASM,MACpDhF,GAEF,IADA,IAAMlB,EAAQ,GAjBX,WAkBMa,GACLb,EAAMiB,KAAKyE,EAASO,MAAK,SAAC5D,GAAD,OAAOA,EAAEnB,KAAOL,OADpCA,EAAImF,EAASnF,GAAKgF,EAAOhF,IAAM,EAA/BA,GAGTuE,EAAcpF,IAgBAoG,OC7FpBC,EAAO,SAAC,GAAsD,IAApDtE,EAAmD,EAAnDA,KAAMuE,EAA6C,EAA7CA,YAAapF,EAAgC,EAAhCA,GAAIqF,EAA4B,EAA5BA,eAAgBrB,EAAY,EAAZA,MAE7CpE,EAASiB,EAAKhB,UAAU,EAAGgB,EAAKxB,QAAQ,MACxCY,EAAOY,EAAKhB,UAAUgB,EAAKxB,QAAQ,KAAO,GAC1CiG,EAAQrF,EAAKJ,UAAU,EAHT,IAD2C,EAKrBqC,mBAAS,MALY,mBAKxDqD,EALwD,KAKzCC,EALyC,KAgBzDC,EAAc,SAACxF,GACjB,IAAMyF,EAAQzF,EAAKjB,MAAM,MACnB0B,EAAU,oCAChB8E,EACIE,EAAMzG,KAAI,SAAC0G,EAAGhG,GAAJ,OACN,8BACKgG,EAAE3G,MAAM,YAAYC,KAAI,SAACsF,EAAG5E,GACzB,OAAOe,EAAQZ,KAAKyE,GAChB,cAAC,EAAD,CAEIR,KAAMQ,EACNP,MAAOA,EACPF,QACI,cAACrC,EAAA,EAAD,CACIE,GAAG,IACHiE,MAAO,CAAEC,OAAQ,WACjBjD,KAAK,OAHT,SAIK2B,KARJ5E,GAaT4E,MAjBF5E,QAyBtB,OACI,qCACI,eAAC8C,EAAA,EAAUC,MAAX,CACIV,MAAOhC,EACP2C,OAAQyC,IAAgBpF,EACxB4B,QA5CQ,WACZ5B,IAAOoF,EACPC,GAAgB,IAEhBA,EAAerF,GACfyF,EAAYxF,KAoCZ,UAII,cAAC6F,EAAA,EAAD,CAAMC,KAAK,aACX,4BAAInG,IACHwF,IAAgBpF,GACb,qCACK,IACAsF,EACAzE,EAAKX,OAzDN,GAyD6B,GAAK,YAI9C,cAACuC,EAAA,EAAUI,QAAX,CAAmBF,OAAQyC,IAAgBpF,EAA3C,SACI,cAACgG,EAAA,EAAD,CACIC,SAAU,IACVC,UAAU,YACV9D,QAASgD,IAAgBpF,EAH7B,SAII,8BAAMuF,YAOpBY,EAAa,SAAC,GAAD,IAAGC,EAAH,EAAGA,aAAcC,EAAjB,EAAiBA,SAAUC,EAA3B,EAA2BA,UAA3B,OACf,cAACC,EAAA,EAAD,CACIC,WAAY,WACRJ,KAEJK,YAAU,EAJd,SAKI,cAAChD,EAAA,EAAD,CACIiD,QAASJ,EACT5C,KAAK,aACL9B,QAAS,kBAAMyE,UAmDZM,EA9CD,SAAC,GAAuD,IAArD7H,EAAoD,EAApDA,MAAOiC,EAA6C,EAA7CA,OAAQsF,EAAqC,EAArCA,SAAUO,EAA2B,EAA3BA,cAAe5C,EAAY,EAAZA,MAAY,EAC3B9B,oBAAU,GADiB,mBAC1DkD,EAD0D,KAC7CC,EAD6C,OAErCnD,mBAAS,IAF4B,mBAE1D2E,EAF0D,KAElDC,EAFkD,OAG/B5E,oBAAS,GAHsB,mBAG1DoE,EAH0D,KAG/CS,EAH+C,KAKjEzE,qBAAU,WACNwE,EAAUhI,EAAMU,MAAM,EAAGoH,IACzBG,GAAa,KACd,CAACH,EAAe9H,IAEnBwD,qBAAU,WACN+C,GAAgB,KACjB,CAACtE,IASJ,OACI,qCACI,cAAC0B,EAAA,EAAD,CAAWuE,QAAM,EAACjE,OAAK,EAAvB,SACK8D,EAAO5H,KAAI,SAACkC,GAAD,OACR,cAAC,EAAD,CAEInB,GAAImB,EAAEnB,GACNa,KAAMM,EAAElB,KACRmF,YAAaA,EACbC,eAAgBA,EAChBrB,MAAOA,GALF7C,EAAEnB,SASlBlB,EAAMoB,OAAS0G,GACZ,cAAC,EAAD,CACIR,aAvBK,WACjBW,GAAa,GACbE,YAAW,WACPZ,MACD,MAoBSA,SAAUA,EACVC,UAAWA,Q,SCjHhBY,EAtBG,SAAChE,GACf,OACI,qCACI,cAACiE,EAAA,EAAD,CACIC,YAAY,SACZrE,OAAK,EACLW,KAAK,SACL2D,MAAOnE,EAAMmE,MACbC,SAAUpE,EAAMoE,SAChBZ,QAASxD,EAAMwD,UAElBxD,EAAMqE,mBAAoB,IACG,IAA7BrE,EAAMqE,mBAA2B,SAAW,UAVjD,SAWqB,KAAhBrE,EAAMmE,OACH,cAAC5D,EAAA,EAAD,CAAQ7B,QAASsB,EAAMsE,YAAaC,SAAO,EAACC,OAAK,EAAC9E,KAAK,OAAvD,uBCoGDC,EAzGC,SAAC,GAAe,IAAbmB,EAAY,EAAZA,MAAY,EACK9B,mBAAS8B,EAAMlF,OADpB,mBACpB6I,EADoB,KACVC,EADU,OAEyB1F,mBAAS,GAFlC,mBAEpBqF,EAFoB,KAEAM,EAFA,OAGC3F,mBAAS,IAHV,mBAGpBnB,EAHoB,KAGZ+G,EAHY,OAIO5F,oBAAS,GAJhB,mBAIpB6F,EAJoB,KAITC,EAJS,OAMe9F,mBAD1B,IALW,mBAMpB0E,EANoB,KAMLqB,EANK,OAOe/F,mBAAS,IAPxB,mBAOpBD,EAPoB,KAOLiG,EAPK,OAQWhG,mBAClC,kCATuB,mBAQpBiG,EARoB,KAQPC,EARO,KAY3B9F,qBAAU,WAEN,GADA2F,EARY,IASU,IAAlBlH,EAAOb,OAAc,CACrB8H,GAAa,GACb,IAAMK,EAAIpB,YAAW,WACjBW,ENVe,SAAC9I,EAAOiC,GACtC,MAAe,KAAXA,EACIjC,EAEAA,EAAM8B,QAAO,SAACO,GAAD,OAAKA,EAAElB,KAAKqI,cAAc5D,SAAS3D,EAAOuH,kBMMpCC,CAAiBvE,EAAMlF,MAAOiC,IAC1CiH,GAAa,KACd,KACH,OAAO,WACHQ,aAAaH,IAGrBL,GAAa,KACd,CAACjH,EAAQiD,EAAMlF,QAElB,IAQM0I,EAAc,WAChBM,EAAU,IACVI,EAAiB,IACjBN,EAAY5D,EAAMlF,OAClBsJ,EAAe,mCAGnB9F,qBAAU,WACNuF,EAAsBF,EAASzH,UAChC,CAACyH,IASJ,OACI,cAACc,EAAA,EAAD,CAAMC,WAAS,EAAf,SACI,eAACD,EAAA,EAAKE,IAAN,CAAUC,QAAS,EAAGC,SAAO,EAA7B,UACI,cAACJ,EAAA,EAAKK,OAAN,CAAaC,MAAO,EAApB,SACI,cAAC,EAAD,CACInK,QAASkC,EACLkD,EAAMpF,QACN+I,EACA5G,GAEJlC,WAAYuC,EACR4C,EAAMnF,WACN8I,EACA5G,GAEJQ,eAtBG,SAACQ,GACpB+F,EAAU,IACVF,EAAYpH,EAAUwD,EAAMlF,MAAOsB,SAAS2B,KAC5CmG,EAAiBnG,EAAOlC,UAAU,EAAG,IACrCuI,EAAerG,IAmBCE,cAAeA,MAGvB,eAACwG,EAAA,EAAKK,OAAN,CAAaC,MAAO,GAApB,UACI,cAACN,EAAA,EAAKE,IAAN,UACI,cAAC,EAAD,CACItB,MAAOtG,EACPuG,SAjDH,SAAC,GAAgB,IAAd0B,EAAa,EAAbA,OACpBlB,EAAUkB,EAAO3B,OACjBW,GAAa,GACQ,KAAjBgB,EAAO3B,MACPG,IACGU,EAAiB,QA6CJxB,QAASqB,EACTR,mBAAoBA,EACpBC,YAAaA,MAGrB,eAACiB,EAAA,EAAKE,IAAN,WACI,cAACM,EAAA,EAAD,IACA,cAAC,IAAD,UACKlI,EAAM,6BACqBA,EADrB,KAEDoH,IAEV,cAAC,EAAD,CACIrJ,MAAO6I,EACP5G,OAAQA,EACR6F,cAAeA,EACfP,SAAU,WACN4B,EAAiBrB,EAzF7B,KA2FQ5C,MAAOA,gBC5DpBkF,MAzCf,WAAgB,IAAD,EACehH,mBAAS,IADxB,mBACJ8B,EADI,KACGmF,EADH,OAEuBjH,oBAAS,GAFhC,mBAEJoE,EAFI,KAEOS,EAFP,OAGmB7E,oBAAS,GAH5B,mBAGJkH,EAHI,KAGKC,EAHL,KAoBX,OAfA/G,qBAAU,WACNyE,GAAa,GACbuC,EACKlL,UACAmL,MAAK,SAAC9K,GACH0K,EAASzK,EAAOC,UAAUF,IAC1BsI,GAAa,MAEhByC,OAAM,SAACC,GACJC,QAAQC,MAAMF,GACdJ,GAAW,GACXtC,GAAa,QAEtB,IAGC,gCACI,cAAC/D,EAAA,EAAD,CAAS4G,UAAQ,EAAClC,OAAK,EAAvB,0DAGA,eAACnE,EAAA,EAAD,CAAWR,OAAK,EAAC8G,UAAU,OAAO5J,MAAI,EAAtC,UACI,cAAC6J,EAAA,EAAD,CAAQnH,OAAQ2D,IACf8C,GACG,qCACI,cAACtD,EAAA,EAAD,CAAMC,KAAK,IAAInD,KAAK,UAAUmH,MAAM,QACpC,6DAGP/F,EAAMpF,SAAWoF,EAAMnF,YAAcmF,EAAMlF,OACxC,cAACkL,EAAD,CAAUhG,MAAOA,WCrCrCiG,IAASC,OACR,cAAC,EAAD,IACAC,SAASC,eAAe,W","file":"static/js/main.d9c749b9.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst url = '/rules.txt';\n\nconst getData = async ()=>{\n\tconst result = await axios.get(url)\n\treturn (result.data);\n}\n\nconst service = {\n\tgetData\n}\n\nexport default service;","\nfunction parseData(data)\n{\n\tconst result = {headers: [], subHeaders:[], rules:[]};\n\tconst splitted = data.split('\\n\\r').map((d)=>d.trim());\n\tconst start = splitted.indexOf('1. Game Concepts');\n\tconst end = splitted.lastIndexOf('Glossary');\n\tconst sliced = splitted.slice(start, end);\n\n\tsliced.forEach((paragraph, i)=>{\n\t\tconst number = paragraph.substring(0, paragraph.indexOf(' '))\n\t\tif (/^[1-9]\\.$/.test(number))\n\t\t\tresult.headers.push({id: i, text: paragraph});\n\t\telse if (/^[1-9][0-9][0-9]\\.$/.test(number))\n\t\t\tresult.subHeaders.push({id: i, text: paragraph});\n\t\telse\n\t\t{\n\t\t\tif (paragraph.length === 0)\n\t\t\t\treturn ;\n\t\t\tconst headerNum = parseInt(paragraph.substr(0, 1));\n\t\t\tconst subNum = parseInt(paragraph.substring(0, paragraph.indexOf('.')));\n\t\t\tresult.rules.push({\n\t\t\t\tid: i,\n\t\t\t\ttext: paragraph.replace('\\u2013', '-'),\n\t\t\t\theaderNum: headerNum, subNum: subNum}\n\t\t\t);\n\t\t}\n\t})\n\treturn result;\n}\n\nconst parser = {\n  parseData\n}\n\nexport default parser;","\nexport const findRules = (rules, subNumber)=>{\n\tconst pattern = RegExp(`^${subNumber}[.]`);\n\tconst result = rules.filter((rule)=>pattern.test(rule.text));\n\treturn result;\n}\n\nexport const findSubHeaders = (headers, mainNumber) => {\n\tif (headers.length === 0)\n\t\treturn ;\n\tconst pattern = RegExp('^'+ mainNumber);\n\tconst subHeaders = headers.filter((sub)=>{\n\t\treturn (\n\t\tpattern.test(sub.text)\n\t\t)\n\t});\n\treturn subHeaders;\n}\n\nexport const applySearchRules =(rules, search)=>{\n\tif (search === '')\n\t\treturn rules;\n\telse\n\t\treturn rules.filter((r)=>r.text.toLowerCase().includes(search.toLowerCase()))\n}\n\nexport const applySearchHeaders = (headers, rules, search)=>{\n\tif (search === '')\n\t\treturn headers;\n\t// const rnumbers = rules.map((r)=>r.text.substring(0, r.text.indexOf(' ')))\n\tconst result = headers.filter((h)=>{\n\t\tconst hnum = parseInt(h.text.substring(0,1));\n\t\treturn (\n\t\t\trules.some((r)=>{\n\t\t\t\treturn (\n\t\t\t\t\tr.headerNum === hnum\n\t\t\t);\n\t\t\t}\n\t\t) \n\t)});\n\treturn result;\n}\n\nexport const applySearchSubHeaders = (subHeaders, rules, search)=>{\n\tif (search === '')\n\t\treturn(subHeaders);\n\tconst result = subHeaders.filter((h)=>{\n\t\tconst hnum = parseInt(h.text.substr(0, h.text.indexOf('.')))\n\t\treturn (\n\t\t\trules.some((r)=>{\n\t\t\t\treturn (r.subNum === hnum);\n\t\t})\n\t\t)\n\t})\n\treturn result;\n}","import React from 'react';\nimport { List } from 'semantic-ui-react';\n\nconst SubHeader = ({sub, subHeaderClick})=>{\n\treturn (\n\t\t<List.Item className='ui' as='a' onClick={()=>subHeaderClick(sub)}>{sub}</List.Item>\n\t)\n}\n\n\nconst SubHeaders = ({subHeaders, subHeaderClick})=>{\n\treturn (\n\t\t<List>\n\t\t{subHeaders.map((sub)=>(\n\t\t\t<SubHeader\n\t\t\t\tkey={sub.id}\n\t\t\t\tsub={sub.text}\n\t\t\t\tsubHeaderClick={subHeaderClick}\n\t\t\t/>))}\n\t\t</List>\n\t)\n}\n\nexport default SubHeaders;","import React, { useState, useEffect } from 'react';\nimport SubHeaders from './Subheaders';\nimport { findSubHeaders } from '../services/utils';\nimport { Accordion, Header as UiHeader, Segment } from \"semantic-ui-react\";\n\nconst Header = ({header, subHeaders, subHeaderClick, index, headersActive})=>{\n\tconst number = parseInt(header);\n\tconst [sub, setSub] = useState([]);\n\tconst [visible, setVisible] = useState(false);\n\n\tuseEffect(()=>{\n\t\tsetSub(findSubHeaders(subHeaders, number))\n\t},[subHeaders, number])\n\n\tuseEffect(()=>{\n\t\tif (header.substring(0, 1) === headersActive || headersActive === 'all')\n\t\tsetVisible(true);\n\t\telse\n\t\tsetVisible(false);\n\t},[headersActive, header])\n\n\treturn (\n\t\t<>\n\t\t\t<Accordion.Title \n\t\t\t\tonClick={()=>setVisible(!visible)}\n\t\t\t\tindex={index}\n\t\t\t\tactive={visible}\n\t\t\t>\n\t\t\t\t<UiHeader size=\"small\">{header}</UiHeader>\n\t\t\t\t</Accordion.Title>\n\t\t\t<Accordion.Content\n\t\t\t\tactive={visible}\n\t\t\t>\n\t\t\t<SubHeaders\n\t\t\t\tsubHeaders={sub}\n\t\t\t\tsubHeaderClick={subHeaderClick}/>\n\t\t\t</Accordion.Content>\n\t\t</>\n\t)\n}\n\nconst Headers = ({headers, subHeaders, subHeaderClick, headersActive})=>{\n\treturn (\n\t\t<Accordion fluid as={Segment}>\n\t\t\t{\n\t\t\theaders.map((h, i)=>(\n\t\t\t\t<Header\n\t\t\t\t\tindex={i}\n\t\t\t\t\tkey={h.id}\n\t\t\t\t\theader={h.text}\n\t\t\t\t\tsubHeaders={subHeaders}\n\t\t\t\t\tsubHeaderClick={subHeaderClick}\n\t\t\t\t\theadersActive={headersActive}\n\t\t\t\t/>))\n\t\t\t}\n\t\t</Accordion>\n\t);\n}\n\nexport default Headers;","import React, { useState, useEffect } from \"react\";\nimport { Container, Button, Header, Modal } from \"semantic-ui-react\";\nimport { findRules } from \"../services/utils\";\n\nconst ModalContent = (props) => {\n    const [rule, setRule] = useState(props.rules[props.index]);\n    const len = props.rules.length;\n\n    useEffect(() => {\n        setRule(props.rules[props.index]);\n    }, [props.index, props.rules]);\n\n    if (!rule) return \"\";\n    const ruleNumber = rule.text.substring(0, rule.text.indexOf(\" \"));\n    return (\n        <>\n            <Modal.Header>\n                <Header>{ruleNumber}</Header>\n            </Modal.Header>\n            <Modal.Content>\n                <Container text fluid>\n                    {rule.text.substring(rule.text.indexOf(\" \"))}\n                </Container>\n            </Modal.Content>\n            {len > 1 && (\n                <Modal.Actions>\n                    <Button\n                        icon=\"arrow left\"\n                        disabled={props.index <= 0}\n                        onClick={() => {\n                            props.setIndex(props.index - 1);\n                        }}\n                    />\n                    <Button\n                        icon=\"arrow right\"\n                        disabled={props.index >= len - 1}\n                        onClick={() => {\n                            props.setIndex(props.index + 1);\n                        }}\n                    />\n                </Modal.Actions>\n            )}\n        </>\n    );\n};\n\nconst RuleModal = ({ trigger, word, rBook }) => {\n    const [index, setIndex] = useState(0);\n    const [modalRules, setModalRules] = useState([]);\n\n    useEffect(() => {\n        setIndex(0);\n    }, [word]);\n\n    const findModalRules = () => {\n        let w =\n            word[word.length - 1] === \".\"\n                ? word.slice(0, word.length - 1)\n                : word;\n        const subRules = findRules(rBook.rules, parseInt(w));\n        const dashIndex = w.indexOf(\"-\");\n        if (dashIndex === -1) {\n            setModalRules(\n                subRules.filter((r) =>\n                    r.text.substring(0, r.text.indexOf(\" \")).includes(w)\n                )\n            );\n        } else {\n            const headerNum = w.substring(0, w.indexOf(\".\"));\n            const leftSide = w.substring(0, dashIndex);\n            const rightSide = w.substring(dashIndex + 1);\n            const startID = subRules.find((r) =>\n                r.text.substring(0, r.text.indexOf(\" \")).includes(leftSide)\n            ).id;\n            let endID;\n            let fullRightSide = w.substring(dashIndex + 1);\n            if (!rightSide.match(/[0-9]{3}/)) {\n                fullRightSide = rightSide.match(/^[a-z]$/)\n                    ? `${w.substring(0, dashIndex - 1)}${rightSide}`\n                    : `${headerNum}.${rightSide}`;\n            }\n            endID = subRules.find((r) =>\n                r.text.substring(0, r.text.indexOf(\" \")).includes(fullRightSide)\n            ).id;\n            const rules = [];\n            for (let i = startID; i <= endID; i++) {\n                rules.push(subRules.find((r) => r.id === i));\n            }\n            setModalRules(rules);\n        }\n    };\n\n    return (\n        <Modal\n            closeIcon=\"close\"\n            content={\n                <ModalContent\n                    rules={modalRules}\n                    index={index}\n                    setIndex={setIndex}\n                />\n            }\n            on=\"click\"\n            trigger={trigger}\n            onOpen={() => findModalRules()}></Modal>\n    );\n};\n\nexport default RuleModal;\n","import React, { useEffect, useState } from \"react\";\nimport {\n    Item,\n    Button,\n    Icon,\n    Accordion,\n    Transition,\n    Visibility,\n} from \"semantic-ui-react\";\nimport RuleModal from \"./RuleModal\";\n\nconst Rule = ({ rule, activeIndex, id, setActiveIndex, rBook }) => {\n    const titleLength = 30;\n    const number = rule.substring(0, rule.indexOf(\" \"));\n    const text = rule.substring(rule.indexOf(\" \") + 1);\n    const title = text.substring(0, titleLength);\n    const [processedText, setProcessedText] = useState(null);\n\n    const handleClick = () => {\n        if (id === activeIndex) {\n            setActiveIndex(-1);\n        } else {\n            setActiveIndex(id);\n            processText(text);\n        }\n    };\n\n    const processText = (text) => {\n        const lines = text.split(\"\\n\");\n        const pattern = /^[1-9][0-9][0-9]((\\.([0-9]|$))|$)/;\n        setProcessedText(\n            lines.map((l, i) => (\n                <div key={i}>\n                    {l.split(/([ (,)])/).map((w, i) => {\n                        return pattern.test(w) ? (\n                            <RuleModal\n                                key={i}\n                                word={w}\n                                rBook={rBook}\n                                trigger={\n                                    <Item\n                                        as=\"a\"\n                                        style={{ cursor: \"pointer\" }}\n                                        size=\"tiny\">\n                                        {w}\n                                    </Item>\n                                }\n                            />\n                        ) : (\n                            w\n                        );\n                    })}\n                </div>\n            ))\n        );\n    };\n\n    return (\n        <>\n            <Accordion.Title\n                index={id}\n                active={activeIndex === id}\n                onClick={handleClick}>\n                <Icon name=\"dropdown\" />\n                <b>{number}</b>\n                {activeIndex !== id && (\n                    <>\n                        {\" \"}\n                        {title}\n                        {rule.length < titleLength ? \"\" : \"...\"}\n                    </>\n                )}\n            </Accordion.Title>\n            <Accordion.Content active={activeIndex === id}>\n                <Transition\n                    duration={500}\n                    animation=\"fade down\"\n                    visible={activeIndex === id}>\n                    <div>{processedText}</div>\n                </Transition>\n            </Accordion.Content>\n        </>\n    );\n};\n\nconst RuleLoader = ({ autoLoadMore, showMore, isLoading }) => (\n    <Visibility\n        onOnScreen={() => {\n            autoLoadMore();\n        }}\n        continuous>\n        <Button\n            loading={isLoading}\n            icon=\"arrow down\"\n            onClick={() => showMore()}\n        />\n    </Visibility>\n);\n\nconst Rules = ({ rules, search, showMore, displayAmount, rBook }) => {\n    const [activeIndex, setActiveIndex] = useState(-1);\n    const [sliced, setSliced] = useState([]);\n    const [isLoading, setIsLoading] = useState(false);\n\n    useEffect(() => {\n        setSliced(rules.slice(0, displayAmount));\n        setIsLoading(false);\n    }, [displayAmount, rules]);\n\n    useEffect(() => {\n        setActiveIndex(-1);\n    }, [search]);\n\n    const autoLoadMore = () => {\n        setIsLoading(true);\n        setTimeout(() => {\n            showMore();\n        }, 150);\n    };\n\n    return (\n        <>\n            <Accordion styled fluid>\n                {sliced.map((r) => (\n                    <Rule\n                        key={r.id}\n                        id={r.id}\n                        rule={r.text}\n                        activeIndex={activeIndex}\n                        setActiveIndex={setActiveIndex}\n                        rBook={rBook}\n                    />\n                ))}\n            </Accordion>\n            {rules.length > displayAmount && (\n                <RuleLoader\n                    autoLoadMore={autoLoadMore}\n                    showMore={showMore}\n                    isLoading={isLoading}\n                />\n            )}\n        </>\n    );\n};\n\nexport default Rules;\n","import React from \"react\";\nimport { Input, Button } from \"semantic-ui-react\";\n\nconst Searchbar = (props) => {\n    return (\n        <>\n            <Input\n                placeholder=\"search\"\n                fluid\n                icon=\"search\"\n                value={props.value}\n                onChange={props.onChange}\n                loading={props.loading}\n            />\n            {props.searchResultNumber}{\" \"}\n            {props.searchResultNumber === 1 ? \"result\" : \"results\"} found\n            {props.value !== \"\" && (\n                <Button onClick={props.clearSearch} compact basic size=\"tiny\">\n                    clear\n                </Button>\n            )}\n        </>\n    );\n};\n\nexport default Searchbar;\n","import React, { useEffect, useState } from \"react\";\nimport {\n    applySearchRules,\n    applySearchHeaders,\n    applySearchSubHeaders,\n    findRules,\n} from \"../services/utils\";\nimport { Divider, Grid, Header as UiHeader } from \"semantic-ui-react\";\nimport Headers from \"./Headers\";\nimport Rules from \"./Rules\";\nimport Searchbar from \"./Searchbar\";\n\nconst Content = ({ rBook }) => {\n    const [newRules, setNewRules] = useState(rBook.rules);\n    const [searchResultNumber, setSearchResultNumber] = useState(0);\n    const [search, setSearch] = useState(\"\");\n    const [searching, setSearching] = useState(false);\n    const dAmount = 30;\n    const [displayAmount, setDisplayAmount] = useState(dAmount);\n    const [headersActive, setHeadersActive] = useState(\"\");\n    const [resultTitle, setResultTitle] = useState(\n        \"Magic: The Gathering -rulebook\"\n    );\n\n    useEffect(() => {\n        setDisplayAmount(dAmount);\n        if (search.length !== 0) {\n            setSearching(true);\n            const t = setTimeout(() => {\n                setNewRules(applySearchRules(rBook.rules, search));\n                setSearching(false);\n            }, 700);\n            return () => {\n                clearTimeout(t);\n            };\n        }\n        setSearching(false);\n    }, [search, rBook.rules]);\n\n    const handleSearch = ({ target }) => {\n        setSearch(target.value);\n        setSearching(false);\n        if (target.value === \"\") {\n            clearSearch();\n        } else setHeadersActive(\"all\");\n    };\n\n    const clearSearch = () => {\n        setSearch(\"\");\n        setHeadersActive(\"\");\n        setNewRules(rBook.rules);\n        setResultTitle(\"Magic: The Gathering -rulebook\");\n    };\n\n    useEffect(() => {\n        setSearchResultNumber(newRules.length);\n    }, [newRules]);\n\n    const subHeaderClick = (header) => {\n        setSearch(\"\");\n        setNewRules(findRules(rBook.rules, parseInt(header)));\n        setHeadersActive(header.substring(0, 1));\n        setResultTitle(header);\n    };\n\n    return (\n        <Grid stackable>\n            <Grid.Row columns={2} divided>\n                <Grid.Column width={5}>\n                    <Headers\n                        headers={applySearchHeaders(\n                            rBook.headers,\n                            newRules,\n                            search\n                        )}\n                        subHeaders={applySearchSubHeaders(\n                            rBook.subHeaders,\n                            newRules,\n                            search\n                        )}\n                        subHeaderClick={subHeaderClick}\n                        headersActive={headersActive}\n                    />\n                </Grid.Column>\n                <Grid.Column width={11}>\n                    <Grid.Row>\n                        <Searchbar\n                            value={search}\n                            onChange={handleSearch}\n                            loading={searching}\n                            searchResultNumber={searchResultNumber}\n                            clearSearch={clearSearch}\n                        />\n                    </Grid.Row>\n                    <Grid.Row>\n                        <Divider />\n                        <UiHeader>\n                            {search\n                                ? `Search result for:'${search}'`\n                                : resultTitle}\n                        </UiHeader>\n                        <Rules\n                            rules={newRules}\n                            search={search}\n                            displayAmount={displayAmount}\n                            showMore={() => {\n                                setDisplayAmount(displayAmount + dAmount);\n                            }}\n                            rBook={rBook}\n                        />\n                    </Grid.Row>\n                </Grid.Column>\n            </Grid.Row>\n        </Grid>\n    );\n};\n\nexport default Content;\n","import React, { useState, useEffect } from \"react\";\nimport dataService from \"./services/dataService\";\nimport parser from \"./services/parser\";\nimport { Icon, Container, Segment, Loader } from \"semantic-ui-react\";\nimport \"semantic-ui-css/semantic.min.css\";\nimport Contents from \"./Contents\";\n\nfunction App() {\n    const [rBook, setRBook] = useState({});\n    const [isLoading, setIsLoading] = useState(false);\n    const [isError, setIsError] = useState(false);\n\n    useEffect(() => {\n        setIsLoading(true);\n        dataService\n            .getData()\n            .then((data) => {\n                setRBook(parser.parseData(data));\n                setIsLoading(false);\n            })\n            .catch((e) => {\n                console.error(e);\n                setIsError(true);\n                setIsLoading(false);\n            });\n    }, []);\n\n    return (\n        <div>\n            <Segment inverted basic>\n                An unofficial Magic: The Gathering -rulebook\n            </Segment>\n            <Container fluid textAlign=\"left\" text>\n                <Loader active={isLoading} />\n                {isError && (\n                    <>\n                        <Icon name=\"x\" size=\"massive\" color=\"red\" />\n                        <div>Error loading resources</div>\n                    </>\n                )}\n                {rBook.headers && rBook.subHeaders && rBook.rules && (\n                    <Contents rBook={rBook} />\n                )}\n            </Container>\n        </div>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n\t<App />,\n\tdocument.getElementById('root')\n);"],"sourceRoot":""}