{"version":3,"sources":["services/dataService.js","services/parser.js","services/utils.js","Contents/Subheaders.js","Contents/Headers.js","Contents/RuleModal.js","Contents/Rules.js","Contents/Searchbar.js","Contents/index.js","App.js","index.js"],"names":["service","getData","a","axios","get","result","data","parser","parseData","headers","subHeaders","rules","splitted","split","map","d","trim","start","indexOf","end","lastIndexOf","slice","forEach","paragraph","i","number","substring","test","push","id","text","length","headerNum","parseInt","substr","subNum","replace","findRules","subNumber","pattern","RegExp","filter","rule","applySearchHeaders","search","h","hnum","some","r","applySearchSubHeaders","SubHeader","sub","subHeaderClick","List","Item","className","as","onClick","SubHeaders","Header","header","index","headersActive","useState","setSub","visible","setVisible","useEffect","mainNumber","findSubHeaders","Accordion","Title","active","size","Content","Headers","fluid","Segment","ModalContent","props","setRule","len","ruleNumber","Modal","Container","Actions","Button","icon","disabled","setIndex","RuleModal","closeIcon","content","on","trigger","Rule","activeIndex","setActiveIndex","rBook","modalRules","setModalRules","title","Icon","name","Transition","duration","animation","lines","l","w","style","cursor","word","subRules","dash","includes","isNaN","charCodeAt","from","to","base","patterns","newRules","isTrue","p","handleLinkClick","processText","RuleLoader","autoLoadMore","showMore","isLoading","Visibility","onOnScreen","continuous","loading","Rules","setSearch","displayAmount","sliced","setSliced","setIsLoading","styled","setTimeout","Searchbar","Input","placeholder","value","onChange","searchResultNumber","clearSearch","compact","basic","setNewRules","setSearchResultNumber","searching","setSearching","setDisplayAmount","setHeadersActive","resultTitle","setResultTitle","t","toLowerCase","applySearchRules","clearTimeout","Grid","stackable","Row","columns","divided","Column","width","target","Divider","App","setRBook","isError","setIsError","dataService","then","catch","e","console","error","inverted","textAlign","Loader","color","Contents","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.531694c2.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst url = '/rules.txt';\n\nconst getData = async ()=>{\n\tconst result = await axios.get(url)\n\treturn (result.data);\n}\n\nconst service = {\n\tgetData\n}\n\nexport default service;","\nfunction parseData(data)\n{\n\tconst result = {headers: [], subHeaders:[], rules:[]};\n\tconst splitted = data.split('\\n\\r').map((d)=>d.trim());\n\tconst start = splitted.indexOf('1. Game Concepts');\n\tconst end = splitted.lastIndexOf('Glossary');\n\tconst sliced = splitted.slice(start, end);\n\n\tsliced.forEach((paragraph, i)=>{\n\t\tconst number = paragraph.substring(0, paragraph.indexOf(' '))\n\t\tif (/^[1-9]\\.$/.test(number))\n\t\t\tresult.headers.push({id: i, text: paragraph});\n\t\telse if (/^[1-9][0-9][0-9]\\.$/.test(number))\n\t\t\tresult.subHeaders.push({id: i, text: paragraph});\n\t\telse\n\t\t{\n\t\t\tif (paragraph.length === 0)\n\t\t\t\treturn ;\n\t\t\tconst headerNum = parseInt(paragraph.substr(0, 1));\n\t\t\tconst subNum = parseInt(paragraph.substring(0, paragraph.indexOf('.')));\n\t\t\tresult.rules.push({\n\t\t\t\tid: i,\n\t\t\t\ttext: paragraph.replace('\\u2013', '-'),\n\t\t\t\theaderNum: headerNum, subNum: subNum}\n\t\t\t);\n\t\t}\n\t})\n\treturn result;\n}\n\nconst parser = {\n  parseData\n}\n\nexport default parser;","\nexport const findRules = (rules, subNumber)=>{\n\tconst pattern = RegExp(`^${subNumber}[.]`);\n\tconst result = rules.filter((rule)=>pattern.test(rule.text));\n\treturn result;\n}\n\nexport const findSubHeaders = (headers, mainNumber) => {\n\tif (headers.length === 0)\n\t\treturn ;\n\tconst pattern = RegExp('^'+ mainNumber);\n\tconst subHeaders = headers.filter((sub)=>{\n\t\treturn (\n\t\tpattern.test(sub.text)\n\t\t)\n\t});\n\treturn subHeaders;\n}\n\nexport const applySearchRules =(rules, search)=>{\n\tif (search === '')\n\t\treturn rules;\n\telse\n\t\treturn rules.filter((r)=>r.text.toLowerCase().includes(search.toLowerCase()))\n}\n\nexport const applySearchHeaders = (headers, rules, search)=>{\n\tif (search === '')\n\t\treturn headers;\n\t// const rnumbers = rules.map((r)=>r.text.substring(0, r.text.indexOf(' ')))\n\tconst result = headers.filter((h)=>{\n\t\tconst hnum = parseInt(h.text.substring(0,1));\n\t\treturn (\n\t\t\trules.some((r)=>{\n\t\t\t\treturn (\n\t\t\t\t\tr.headerNum === hnum\n\t\t\t);\n\t\t\t}\n\t\t) \n\t)});\n\treturn result;\n}\n\nexport const applySearchSubHeaders = (subHeaders, rules, search)=>{\n\tif (search === '')\n\t\treturn(subHeaders);\n\tconst result = subHeaders.filter((h)=>{\n\t\tconst hnum = parseInt(h.text.substr(0, h.text.indexOf('.')))\n\t\treturn (\n\t\t\trules.some((r)=>{\n\t\t\t\treturn (r.subNum === hnum);\n\t\t})\n\t\t)\n\t})\n\treturn result;\n}","import React from 'react';\nimport { List } from 'semantic-ui-react';\n\nconst SubHeader = ({sub, subHeaderClick})=>{\n\treturn (\n\t\t<List.Item className='ui' as='a' onClick={()=>subHeaderClick(sub)}>{sub}</List.Item>\n\t)\n}\n\n\nconst SubHeaders = ({subHeaders, subHeaderClick})=>{\n\treturn (\n\t\t<List>\n\t\t{subHeaders.map((sub)=>(\n\t\t\t<SubHeader\n\t\t\t\tkey={sub.id}\n\t\t\t\tsub={sub.text}\n\t\t\t\tsubHeaderClick={subHeaderClick}\n\t\t\t/>))}\n\t\t</List>\n\t)\n}\n\nexport default SubHeaders;","import React, { useState, useEffect } from 'react';\nimport SubHeaders from './Subheaders';\nimport { findSubHeaders } from '../services/utils';\nimport { Accordion, Header as UiHeader, Segment } from \"semantic-ui-react\";\n\nconst Header = ({header, subHeaders, subHeaderClick, index, headersActive})=>{\n\tconst number = parseInt(header);\n\tconst [sub, setSub] = useState([]);\n\tconst [visible, setVisible] = useState(false);\n\n\tuseEffect(()=>{\n\t\tsetSub(findSubHeaders(subHeaders, number))\n\t},[subHeaders, number])\n\n\tuseEffect(()=>{\n\t\tif (header.substring(0, 1) === headersActive || headersActive === 'all')\n\t\tsetVisible(true);\n\t\telse\n\t\tsetVisible(false);\n\t},[headersActive, header])\n\n\treturn (\n\t\t<>\n\t\t\t<Accordion.Title \n\t\t\t\tonClick={()=>setVisible(!visible)}\n\t\t\t\tindex={index}\n\t\t\t\tactive={visible}\n\t\t\t>\n\t\t\t\t<UiHeader size=\"small\">{header}</UiHeader>\n\t\t\t\t</Accordion.Title>\n\t\t\t<Accordion.Content\n\t\t\t\tactive={visible}\n\t\t\t>\n\t\t\t<SubHeaders\n\t\t\t\tsubHeaders={sub}\n\t\t\t\tsubHeaderClick={subHeaderClick}/>\n\t\t\t</Accordion.Content>\n\t\t</>\n\t)\n}\n\nconst Headers = ({headers, subHeaders, subHeaderClick, headersActive})=>{\n\treturn (\n\t\t<Accordion fluid as={Segment}>\n\t\t\t{\n\t\t\theaders.map((h, i)=>(\n\t\t\t\t<Header\n\t\t\t\t\tindex={i}\n\t\t\t\t\tkey={h.id}\n\t\t\t\t\theader={h.text}\n\t\t\t\t\tsubHeaders={subHeaders}\n\t\t\t\t\tsubHeaderClick={subHeaderClick}\n\t\t\t\t\theadersActive={headersActive}\n\t\t\t\t/>))\n\t\t\t}\n\t\t</Accordion>\n\t);\n}\n\nexport default Headers;","import React, { useState, useEffect} from 'react';\nimport { Container, Button, Header, Modal } from 'semantic-ui-react'\n\nconst ModalContent = (props)=>{\n\tconst [rule, setRule] = useState(props.rules[props.index]);\n\tconst len = props.rules.length;\n\n\tuseEffect(()=>{\n\t\tsetRule(props.rules[props.index])\n\t},[props.index, props.rules])\n\n\tif (!rule)\n\t\treturn '';\n\tconst ruleNumber = rule.text.substring(0, rule.text.indexOf(' '))\n\treturn (\n\t\t<>\n\t\t\t<Modal.Header>\n\t\t\t<Header>{ruleNumber}</Header>\n\t\t\t\t</Modal.Header>\n\t\t\t<Modal.Content>\n\t\t\t\t<Container text fluid>\n\t\t\t\t\t{rule.text.substring(rule.text.indexOf(' '))}\n\t\t\t\t</Container>\n\t\t\t</Modal.Content>\n\t\t\t{ len > 1 &&\n\t\t\t<Modal.Actions>\n\t\t\t\t<Button icon='arrow left' disabled={props.index <= 0}\n\t\t\t\t\tonClick={()=>{props.setIndex(props.index - 1)}}/>\n\t\t\t\t<Button icon='arrow right' disabled={props.index >= len - 1}\n\t\t\t\t\tonClick={()=>{props.setIndex(props.index + 1)}}/>\n\t\t\t</Modal.Actions>\n\t\t\t}\n\t\t</>\n\t)\n}\n\nconst RuleModal = (props)=>{\n\tconst [index, setIndex] = useState(0);\n\n\tuseEffect(()=>{\n\t\tsetIndex(0);\n\t},[props.rules])\n\n\treturn (\n\t\t<Modal\n\t\t\tcloseIcon='close'\n\t\t\tcontent={\n\t\t\t\t<ModalContent\n\t\t\t\t\trules={props.rules}\n\t\t\t\t\tindex={index}\n\t\t\t\t\tsetIndex={setIndex}/>\n\t\t\t}\n\t\t\ton='click'\n\t\t\ttrigger={props.trigger}>\n\t\t</Modal>\n\t);\n}\n\nexport default RuleModal;","import React, { useEffect, useState } from \"react\";\nimport {\n    Item,\n    Button,\n    Icon,\n    Accordion,\n    Transition,\n    Visibility,\n} from \"semantic-ui-react\";\nimport RuleModal from \"./RuleModal\";\nimport { findRules } from \"../services/utils\";\n\nconst Rule = ({\n    rule,\n    activeIndex,\n    id,\n    setActiveIndex,\n    rBook,\n    modalRules,\n    setModalRules,\n}) => {\n    const titleLength = 30;\n    const number = rule.substring(0, rule.indexOf(\" \"));\n    const text = rule.substring(rule.indexOf(\" \") + 1);\n    const title = text.substring(0, titleLength);\n\n    const handleClick = () => {\n        if (id === activeIndex) setActiveIndex(-1);\n        else setActiveIndex(id);\n    };\n\n    const handleLinkClick = (word) => {\n        const subRules = findRules(rBook.rules, parseInt(word));\n        const dash = word.indexOf(\"-\");\n        if (dash === -1) {\n            if (word[word.length - 1] === \".\")\n                word = word.substr(0, word.length - 1);\n            setModalRules(\n                subRules.filter((r) =>\n                    r.text.substring(0, r.text.indexOf(\" \")).includes(word)\n                )\n            );\n        } else {\n            if (isNaN(word[dash - 1])) {\n                const len =\n                    word[dash + 1].charCodeAt(0) -\n                    word[dash - 1].charCodeAt(0) +\n                    1;\n                const index = subRules\n                    .map((r) => r.text.substring(0, r.text.indexOf(\" \")))\n                    .indexOf(word.substr(0, dash));\n                setModalRules(subRules.slice(index, index + len));\n                return;\n            }\n            const from = parseInt(word.substring(word.indexOf(\".\") + 1, dash));\n            const to = parseInt(word.substring(dash + 1));\n            const base = word.substring(0, word.indexOf(\".\"));\n            const patterns = [];\n            for (let i = from; i <= to; i++) {\n                patterns.push(RegExp(`${base}[.]${i}`));\n            }\n            const newRules = subRules.filter((r) => {\n                let isTrue = false;\n                patterns.forEach((p) => {\n                    if (p.test(r.text.substring(0, r.text.indexOf(\" \"))))\n                        isTrue = true;\n                });\n                return isTrue;\n            });\n            setModalRules(newRules);\n        }\n    };\n\n    const processText = (text) => {\n        const lines = text.split(\"\\n\");\n        const pattern = /[1-9][0-9]{2}(\\.|\\.([1-9])|$)/;\n        return lines.map((l, i) => (\n            <div key={i}>\n                {l.split(/([ (,)])/).map((w, i) =>\n                    pattern.test(w) ? (\n                        <RuleModal\n                            key={i}\n                            rules={modalRules}\n                            trigger={\n                                <Item\n                                    as=\"a\"\n                                    style={{ cursor: \"pointer\" }}\n                                    size=\"tiny\"\n                                    onClick={() => handleLinkClick(w)}>\n                                    {w}\n                                </Item>\n                            }\n                        />\n                    ) : (\n                        w\n                    )\n                )}\n            </div>\n        ));\n    };\n\n    return (\n        <>\n            <Accordion.Title\n                index={id}\n                active={activeIndex === id}\n                onClick={handleClick}>\n                <Icon name=\"dropdown\" />\n                <b>{number}</b>\n                {activeIndex !== id && (\n                    <>\n                        {\" \"}\n                        {title}\n                        {rule.length < titleLength ? \"\" : \"...\"}\n                    </>\n                )}\n            </Accordion.Title>\n            <Accordion.Content active={activeIndex === id}>\n                <Transition\n                    duration={500}\n                    animation=\"fade down\"\n                    visible={activeIndex === id}>\n                    <div>{processText(text)}</div>\n                </Transition>\n            </Accordion.Content>\n        </>\n    );\n};\n\nconst RuleLoader = ({ autoLoadMore, showMore, isLoading }) => (\n    <Visibility\n        onOnScreen={() => {\n            autoLoadMore();\n        }}\n        continuous>\n        <Button\n            loading={isLoading}\n            icon=\"arrow down\"\n            onClick={() => showMore()}\n        />\n    </Visibility>\n);\n\nconst Rules = ({ rules, setSearch, showMore, displayAmount, rBook }) => {\n    const [activeIndex, setActiveIndex] = useState(-1);\n    const [sliced, setSliced] = useState([]);\n    const [isLoading, setIsLoading] = useState(false);\n    const [modalRules, setModalRules] = useState([]);\n\n    useEffect(() => {\n        setSliced(rules.slice(0, displayAmount));\n        setIsLoading(false);\n    }, [displayAmount, rules]);\n\n    const autoLoadMore = () => {\n        setIsLoading(true);\n        setTimeout(() => {\n            showMore();\n        }, 150);\n    };\n\n    return (\n        <>\n            <RuleModal />\n            <Accordion styled fluid>\n                {sliced.map((r) => (\n                    <Rule\n                        key={r.id}\n                        id={r.id}\n                        rule={r.text}\n                        activeIndex={activeIndex}\n                        setActiveIndex={setActiveIndex}\n                        setSearch={setSearch}\n                        rBook={rBook}\n                        modalRules={modalRules}\n                        setModalRules={setModalRules}\n                    />\n                ))}\n            </Accordion>\n            {rules.length > displayAmount && (\n                <RuleLoader\n                    autoLoadMore={autoLoadMore}\n                    showMore={showMore}\n                    isLoading={isLoading}\n                />\n            )}\n        </>\n    );\n};\n\nexport default Rules;\n","import React from \"react\";\nimport { Input, Button } from \"semantic-ui-react\";\n\nconst Searchbar = (props) => {\n    return (\n        <>\n            <Input\n                placeholder=\"search\"\n                fluid\n                icon=\"search\"\n                value={props.value}\n                onChange={props.onChange}\n                loading={props.loading}\n            />\n            {props.searchResultNumber}{\" \"}\n            {props.searchResultNumber === 1 ? \"result\" : \"results\"} found\n            {props.value !== \"\" && (\n                <Button onClick={props.clearSearch} compact basic size=\"tiny\">\n                    clear\n                </Button>\n            )}\n        </>\n    );\n};\n\nexport default Searchbar;\n","import React, { useEffect, useState } from \"react\";\nimport {\n    applySearchRules,\n    applySearchHeaders,\n    applySearchSubHeaders,\n    findRules,\n} from \"../services/utils\";\nimport { Divider, Grid, Header as UiHeader } from \"semantic-ui-react\";\nimport Headers from \"./Headers\";\nimport Rules from \"./Rules\";\nimport Searchbar from \"./Searchbar\";\n\nconst Content = ({ rBook }) => {\n    const [newRules, setNewRules] = useState(rBook.rules);\n    const [searchResultNumber, setSearchResultNumber] = useState(0);\n    const [search, setSearch] = useState(\"\");\n    const [searching, setSearching] = useState(false);\n    const dAmount = 30;\n    const [displayAmount, setDisplayAmount] = useState(dAmount);\n    const [headersActive, setHeadersActive] = useState(\"\");\n    const [resultTitle, setResultTitle] = useState(\n        \"Magic: The Gathering -rulebook\"\n    );\n\n    useEffect(() => {\n        setDisplayAmount(dAmount);\n        if (search.length !== 0) {\n            setSearching(true);\n            const t = setTimeout(() => {\n                setNewRules(applySearchRules(rBook.rules, search));\n                setSearching(false);\n            }, 700);\n            return () => {\n                clearTimeout(t);\n            };\n        }\n        setSearching(false);\n    }, [search, rBook.rules]);\n\n    const handleSearch = ({ target }) => {\n        setSearch(target.value);\n        setSearching(false);\n        if (target.value === \"\") {\n            clearSearch();\n        } else setHeadersActive(\"all\");\n    };\n\n    const clearSearch = () => {\n        setSearch(\"\");\n        setHeadersActive(\"\");\n        setNewRules(rBook.rules);\n        setResultTitle(\"Magic: The Gathering -rulebook\");\n    };\n\n    useEffect(() => {\n        setSearchResultNumber(newRules.length);\n    }, [newRules]);\n\n    const subHeaderClick = (header) => {\n        setSearch(\"\");\n        setNewRules(findRules(rBook.rules, parseInt(header)));\n        setHeadersActive(header.substring(0, 1));\n        setResultTitle(header);\n    };\n\n    return (\n        <Grid stackable>\n            <Grid.Row columns={2} divided>\n                <Grid.Column width={5}>\n                    <Headers\n                        headers={applySearchHeaders(\n                            rBook.headers,\n                            newRules,\n                            search\n                        )}\n                        subHeaders={applySearchSubHeaders(\n                            rBook.subHeaders,\n                            newRules,\n                            search\n                        )}\n                        subHeaderClick={subHeaderClick}\n                        headersActive={headersActive}\n                    />\n                </Grid.Column>\n                <Grid.Column width={11}>\n                    <Grid.Row>\n                        <Searchbar\n                            value={search}\n                            onChange={handleSearch}\n                            loading={searching}\n                            searchResultNumber={searchResultNumber}\n                            clearSearch={clearSearch}\n                        />\n                    </Grid.Row>\n                    <Grid.Row>\n                        <Divider />\n                        <UiHeader>\n                            {search\n                                ? `Search result for:'${search}'`\n                                : resultTitle}\n                        </UiHeader>\n                        <Rules\n                            rules={newRules}\n                            setSearch={setSearch}\n                            displayAmount={displayAmount}\n                            showMore={() => {\n                                setDisplayAmount(displayAmount + dAmount);\n                            }}\n                            rBook={rBook}\n                        />\n                    </Grid.Row>\n                </Grid.Column>\n            </Grid.Row>\n        </Grid>\n    );\n};\n\nexport default Content;\n","import React, { useState, useEffect } from \"react\";\nimport dataService from \"./services/dataService\";\nimport parser from \"./services/parser\";\nimport { Icon, Container, Segment, Loader } from \"semantic-ui-react\";\nimport \"semantic-ui-css/semantic.min.css\";\nimport Contents from \"./Contents\";\n\nfunction App() {\n    const [rBook, setRBook] = useState({});\n    const [isLoading, setIsLoading] = useState(false);\n    const [isError, setIsError] = useState(false);\n\n    useEffect(() => {\n        setIsLoading(true);\n        dataService\n            .getData()\n            .then((data) => {\n                setRBook(parser.parseData(data));\n                setIsLoading(false);\n            })\n            .catch((e) => {\n                console.error(e);\n                setIsError(true);\n                setIsLoading(false);\n            });\n    }, []);\n\n    return (\n        <div>\n            <Segment inverted basic>\n                An unofficial Magic: The Gathering -rulebook\n            </Segment>\n            <Container fluid textAlign=\"left\" text>\n                <Loader active={isLoading} />\n                {isError && (\n                    <>\n                        <Icon name=\"x\" size=\"massive\" color=\"red\" />\n                        <div>Error loading resources</div>\n                    </>\n                )}\n                {rBook.headers && rBook.subHeaders && rBook.rules && (\n                    <Contents rBook={rBook} />\n                )}\n            </Container>\n        </div>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n\n);"],"sourceRoot":""}